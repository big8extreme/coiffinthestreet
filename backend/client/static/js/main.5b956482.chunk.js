(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,a){},152:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(24),c=a.n(s),i=(a(90),a(5)),l=a(6),o=a(8),u=a(7),d=a(9),m=(a(60),a(2)),p=a(180),h=a(172),f=a(181),v=a(13),E=a(3),b=a.n(E),g=a(14),O=a(17),j=a.n(O),y="LOG_IN_USER",C="LOG_OUT_USER",N="LOG_IN_ERROR",w="SUCCESS_MESSAGE",x="ERROR_MESSAGE",A="RESET_MESSAGE";function S(e){return{type:w,payload:e}}function k(e){return{type:x,payload:e}}function R(e){return j.a.defaults.headers.common.Authorization=null,{type:C,payload:null}}var U=a(75),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={items:[{label:"TABLEAU DE BORD",items:[{label:"Accueil",icon:"pi pi-fw pi-home",command:function(){e.history.push("/admin")}},{label:"Maraudes",icon:"pi pi-fw pi-calendar",command:function(){e.history.push("/admin/maraudes")}},{label:"Coiffeurs",icon:"pi pi-fw pi-user",command:function(){e.history.push("/admin/users")}}]},{label:"Api",items:[{label:"Documentation",icon:"pi pi-fw pi-file",command:function(){e.history.push("/admin/docapi")}}]},{label:"Account",items:[{label:"Configuration",icon:"pi pi-fw pi-cog",command:function(){e.history.push("/admin/configs")}},{label:"D\xe9connexion",icon:"pi pi-fw pi-power-off",command:function(){e.logout()}}]}]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"layout-menu"},r.a.createElement(U.Menu,{model:this.state.items}))}}]),t}(r.a.Component),M={logout:R},T=Object(f.a)(Object(v.b)(function(e){return Object(m.a)({},e)},M)(I)),P=a(36),D=function(){return function(){var e=Object(g.a)(b.a.mark(function e(t,a){var n,r,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){console.log("ERROR WHILE FETCHING USERS",e)},n=function(e){t({type:"FETCH_USERS",payload:e.data.users})},e.prev=2,e.next=5,j.a.get("/api/v1/users",{headers:{Authorization:"bearer ".concat(a().authentification.user.token)}});case 5:s=e.sent,n(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}()},L=function(){return function(){var e=Object(g.a)(b.a.mark(function e(t,a){var n,r,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){console.log("ERROR WHILE FETCHING USERS",e)},n=function(e){t({type:"FETCH_MARAUDES",payload:e.data.maraudes})},e.prev=2,e.next=5,j.a.get("/api/v1/maraudes",{headers:{Authorization:"bearer ".concat(a().authentification.user.token)}});case 5:s=e.sent,n(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}()},F=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUsers(),this.props.fetchMaraudes()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row small-spacing"},r.a.createElement("div",{className:"col-lg-3 col-md-6 col-xs-12"},r.a.createElement(P.Card,{title:"MARAUDES",className:"bg-success text-white"},r.a.createElement("i",{className:"pi pi-fw pi-calendar"}),r.a.createElement("h2",null,this.props.maraudes.length))),r.a.createElement("div",{className:"col-lg-3 col-md-6 col-xs-12"},r.a.createElement(P.Card,{title:"COIFFEURS",className:"bg-info text-white"},r.a.createElement("i",{className:"pi pi-fw pi-user"}),"  ",r.a.createElement("h2",null,this.props.users.length))),r.a.createElement("div",{className:"col-lg-3 col-md-6 col-xs-12"},r.a.createElement(P.Card,{title:"PARTICIPANTS",className:"bg-danger text-white"},r.a.createElement("i",{className:"pi pi-fw pi-users"}),"  ",r.a.createElement("h2",null,"140"))),r.a.createElement("div",{className:"col-lg-3 col-md-6 col-xs-12"},r.a.createElement(P.Card,{title:"PHOTOS",className:"bg-warning text-white"},r.a.createElement("i",{className:"pi pi-fw pi-users"}),"  ",r.a.createElement("h2",null,"637")))))}}]),t}(n.Component),H={fetchUsers:D,fetchMaraudes:L},z=Object(v.b)(function(e){return{maraudes:e.maraude.maraudes,users:e.user.users}},H)(F),B=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z,null))}}]),t}(n.Component),G=a(26),W=a(42),q=a(43),_=a(18),V=a(15),X=a(32),J=a(35),K=a(16),Y=a(29),$=a(44),Q=a(77),Z=a(171),ee={firstName:"",lastName:"",email:"",password:"",passwordConfirmation:"",avatarUrl:"",isAdmin:!1,isActive:!1,isBanned:!1,job:"",value:"",avatar:{}},te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleUserStateChange=function(){var e=Object(g.a)(b.a.mark(function e(t,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState(Object(m.a)({},a.state,{user:Object(m.a)({},a.state.user,Object(Y.a)({},t,n))}));case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.checkValidity=function(){return!(a.state.user.password===a.state.user.passwordConfirmation)},a.state={user:Object(m.a)({},ee),userId:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){void 0!==this.state.user.id||this.props.onCreate?e.onCreate!==this.props.onCreate&&this.props.onCreate&&this.setState(Object(m.a)({},this.state,{onCreate:!0,user:Object(m.a)({},ee)})):this.setState({user:Object(m.a)({},this.props.selectedUser,{password:"",passwordConfirmation:""}),onCreate:!1})}},{key:"render",value:function(){var e=this;console.log(this.state);var t=this.props.onCreate?"Cr\xe9er":"Modifier";return r.a.createElement($.Dialog,{header:"Ajour/Modification",style:{width:"50vw"},visible:this.props.isOpen,onHide:function(){e.props.closeModal(),e.setState(Object(m.a)({},e.state,{user:Object(m.a)({},ee),onCreate:!0}))}},r.a.createElement("div",null,r.a.createElement("div",{className:"content-section implementation inputgrid-demo"},r.a.createElement(Z.a,null,r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-4 p-md-4"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon"},r.a.createElement("i",{className:"pi pi-user"})),r.a.createElement(K.InputText,{placeholder:"email",name:"email",value:this.state.user.email,onChange:function(t){return e.handleUserStateChange("email",t.target.value)}}))),r.a.createElement("div",{className:"p-col-4 p-md-4"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement(K.InputText,{placeholder:"Mot de passe",name:"password",type:"text",onChange:function(t){return e.handleUserStateChange("password",t.target.value)}}))),r.a.createElement("div",{className:"p-col-4 p-md-4"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement(K.InputText,{placeholder:"RE Mot de passe",name:"passwordConfirmation",type:"text",onChange:function(t){return e.handleUserStateChange("passwordConfirmation",t.target.value)}})))),r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-4 p-md-4"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement(K.InputText,{placeholder:"Nom",name:"firstName",value:this.state.user.firstName,onChange:function(t){return e.handleUserStateChange("firstName",t.target.value)}}))),r.a.createElement("div",{className:"p-col-4 p-md-4"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement(K.InputText,{placeholder:"Prenom",name:"lastName",value:this.state.user.lastName,onChange:function(t){return e.handleUserStateChange("lastName",t.target.value)}}))),r.a.createElement("div",{className:"p-col-4 p-md-4"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement(Q.Dropdown,{value:this.state.user.job,name:"job",options:[{label:"Coiffeur",value:"Coiffeur"},{label:"Estheticienne",value:"Estheticienne"},{label:"Photographe",value:"Photographe"}],onChange:function(t){return e.handleUserStateChange("job",t.target.value)},placeholder:"Select a Job"})))),r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-6 p-md-4"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement(K.InputText,{placeholder:"Parrain",name:"godFatherId",onChange:function(t){return e.handleUserStateChange("godFatherId",t.target.value)}}))),r.a.createElement("div",{className:"p-col-6 p-md-4"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement("input",{type:"file",onChange:function(t){return e.setState(Object(m.a)({},e.state,{user:Object(m.a)({},e.state.user,{avatar:t.target.files[0]})}))}})))),r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-4 p-md-4"},r.a.createElement("p",null,"isAdmin"),r.a.createElement(J.InputSwitch,{name:"isAdmin",value:this.state.user.isAdmin,checked:this.state.user.isAdmin,onChange:function(t){return e.handleUserStateChange("isAdmin",t.target.value)}})),r.a.createElement("div",{className:"p-col-4 p-md-4"},r.a.createElement("p",null,"isActive"),r.a.createElement(J.InputSwitch,{name:"isActive",value:this.state.user.isActive,checked:this.state.user.isActive,onChange:function(t){return e.handleUserStateChange("isActive",t.target.value)}}))),r.a.createElement("div",{className:"p-grid p-fluid"},r.a.createElement("div",{className:"p-col-6 p-md-4"},r.a.createElement(V.Button,{icon:"pi pi-check",disabled:this.checkValidity(),label:t,onClick:function(){var t=Object(g.a)(b.a.mark(function t(a){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.props.onCreate){t.next=8;break}return t.next=4,e.props.createUser(e.state.user);case 4:e.props.closeModal(),e.setState(Object(m.a)({},e.state,{user:Object(m.a)({},ee)})),t.next=11;break;case 8:e.props.updateUser(e.state.user,e.state.user.id),e.props.closeModal(),e.setState(Object(m.a)({},e.state,{user:Object(m.a)({},ee)}));case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()})),r.a.createElement("div",{className:"p-col-6 p-md-4"},r.a.createElement(V.Button,{label:"Annuler",icon:"pi pi-times",onClick:function(t){t.preventDefault(),e.props.closeModal()},className:"p-button-secondary"})))))),r.a.createElement("div",null)," ")}}]),t}(n.Component),ae={createUser:function(e){return function(){var t=Object(g.a)(b.a.mark(function t(a,n){var r,s,c,i;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(e){console.log("ERROR WHILE CREATE USER",e)},r=function(e){a({type:"CREATE_USER",payload:e.data.user}),a(D())},t.prev=2,(c=new FormData).append("email",e.email),c.append("lastName",e.lastName),c.append("firstName",e.firstName),c.append("password",e.password),c.append("job",e.job),c.append("godFatherId",n().authentification.user.id),c.append("avatar",e.avatar),c.append("isAdmin",e.isAdmin),c.append("isActive",e.isActive),t.next=15,j.a.post("/api/v1/users",c,{headers:{Authorization:"bearer ".concat(n().authentification.user.token),"Content-Type":"multipart/form-data"}});case 15:i=t.sent,r(i),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(2),s(t.t0);case 22:case"end":return t.stop()}},t,null,[[2,19]])}));return function(e,a){return t.apply(this,arguments)}}()},updateUser:function(e,t){return function(){var a=Object(g.a)(b.a.mark(function a(n,r){var s,c,i;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e){console.log("ERROR WHILE update USER",e)},s=function(e){console.log("success WHILE update USER",e),n(D())},a.prev=2,void 0!==e.password&&""!==e.password||delete e.password,a.next=6,j.a.put("/api/v1/users/".concat(t),Object(m.a)({},e),{headers:{Authorization:"bearer ".concat(r().authentification.user.token)}});case 6:i=a.sent,s(i),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),c(a.t0);case 13:case"end":return a.stop()}},a,null,[[2,10]])}));return function(e,t){return a.apply(this,arguments)}}()}},ne=Object(v.b)(function(e){return Object(m.a)({},e)},ae)(te),re={isActive:!1},se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleUserStateChange=function(){var e=Object(g.a)(b.a.mark(function e(t,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.isActive=!n.isActive,e.next=3,a.setState({isActive:n.isActive});case 3:return e.next=5,a.props.updateUserStatut({isActive:n.isActive},n.id);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.toggleModal=function(e){a.setState({modal:!a.state.modal,onCreate:e})},a.closeModal=function(){a.setState({modal:!1})},a.state={modal:!1,selectedUser:null,onCreate:!0,active:re,userId:""},a.handleUserStateChange=a.handleUserStateChange.bind(Object(G.a)(a)),a.actionValid=a.actionValid.bind(Object(G.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"actionPicture",value:function(e,t){return r.a.createElement("div",null,r.a.createElement("img",{alt:e.firstName,src:e.avatarUrl,width:"50px"}))}},{key:"actionTemplate",value:function(e,t){var a=this;return r.a.createElement("div",null,r.a.createElement(V.Button,{type:"button",icon:"pi pi-pencil",className:"p-button-success",onClick:Object(g.a)(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.setState({selectedUser:e});case 2:a.toggleModal(!1);case 3:case"end":return t.stop()}},t)})),style:{marginRight:".5em"}}," "),r.a.createElement(V.Button,{icon:"pi pi-times",className:"p-button-danger",onClick:function(){a.props.deleteUser(e.id),a.props.fetchUsers()},style:{marginRight:".5em"}}," "))}},{key:"actionValid",value:function(e,t){var a=this;return r.a.createElement("div",null,r.a.createElement(J.InputSwitch,{name:"isActive",value:e.isActive,checked:e.isActive,onChange:function(t){return a.handleUserStateChange("isActive",e)}}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content-section header"},r.a.createElement("div",{className:"feature-intro"},r.a.createElement("h3",null,"G\xe9rer les utilisateurs")),r.a.createElement("div",null,r.a.createElement("div",{style:{padding:"15px",textAlign:"center",fontSize:"1.4em",fontWeight:"bold"}},"Liste des utilisateurs"),r.a.createElement("div",{className:"row subtitle-user"},r.a.createElement("div",{className:"col-3 search-bar"},r.a.createElement("i",{className:"pi pi-search search-bar"}),r.a.createElement(K.InputText,{type:"search",onInput:function(t){return e.setState({globalFilter:t.target.value})},placeholder:"Recherche",size:"20"})),r.a.createElement("div",{className:"col-9 add-maraude"},r.a.createElement(V.Button,{style:{float:"right"},label:"Ajouter un coiffeur",icon:"pi pi-plus",onClick:function(){return e.toggleModal(!0)},className:"p-button-warning"}))),r.a.createElement(W.DataTable,{value:this.props.users,paginator:!0,rows:10,rowsPerPageOptions:[5,10,20]},r.a.createElement(_.Column,{body:this.actionPicture.bind(this),style:{textAlign:"center",width:"12em"},header:"Avatar"}),r.a.createElement(_.Column,{field:"lastName",header:"Nom"}),r.a.createElement(_.Column,{field:"firstName",header:"Prenom"}),r.a.createElement(_.Column,{field:"email",header:"Mail"}),r.a.createElement(_.Column,{field:"invitationCode",header:"Code"}),r.a.createElement(_.Column,{body:this.actionTemplate.bind(this),style:{textAlign:"center",width:"12em"},header:"Action"}),r.a.createElement(_.Column,{body:this.actionValid,style:{textAlign:"center",width:"5em"},header:"Actif"})),r.a.createElement(ne,{onCreate:this.state.onCreate,isOpen:this.state.modal,closeModal:this.closeModal,selectedUser:this.state.selectedUser}))))}}]),t}(n.Component),ce={fetchUsers:D,deleteUser:function(e){return function(){var t=Object(g.a)(b.a.mark(function t(a,n){var r,s,c;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(e){console.log("ERROR WHILE delete USER",e)},r=function(e){console.log("success WHILE delete USER",e),a(D())},t.prev=2,t.next=5,j.a.delete("/api/v1/users/".concat(e),{headers:{Authorization:"bearer ".concat(n().authentification.user.token)}});case 5:c=t.sent,r(c),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),s(t.t0);case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e,a){return t.apply(this,arguments)}}()},updateUserStatut:function(e,t){return function(){var a=Object(g.a)(b.a.mark(function a(n,r){var s,c,i;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e){console.log("ERROR WHILE update USER",e)},s=function(e){console.log("success WHILE update USER",e),n(D())},a.prev=2,a.next=5,j.a.put("/api/v1/users/".concat(t),Object(m.a)({},e),{headers:{Authorization:"bearer ".concat(r().authentification.user.token)}});case 5:i=a.sent,s(i),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),c(a.t0);case 12:case"end":return a.stop()}},a,null,[[2,9]])}));return function(e,t){return a.apply(this,arguments)}}()}},ie=Object(v.b)(function(e){return{users:e.user.users}},ce)(se),le=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content-section implementation"},r.a.createElement(ie,null))}}]),t}(n.Component),oe=a(23),ue=a(45),de=a(46),me=a.n(de),pe=a(31),he={users:[]},fe={user:{id:0,token:null,isAdmin:!1,isConnected:!1}},ve={currentConfig:{cgu:"",charte:"",email:"",videoGuidelines:"",videoPath:""}},Ee={messages:[]},be={maraudes:[]},ge=Object(oe.c)({authentification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(m.a)({},e,{user:Object(m.a)({},t.payload.user,{token:t.payload.token,isConnected:!0})});case C:return fe;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_USERS":return Object(m.a)({},e,{users:Object(pe.a)(n)});default:return e}},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_CONFIGS":return Object(m.a)({},e,{currentConfig:n});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=e.messages;switch(a){case w:return r.push({message:n,color:"success"}),Object(m.a)({},e,{messages:Object(pe.a)(r)});case x:return r.push({message:n,color:"danger"}),Object(m.a)({},e,{messages:Object(pe.a)(r)});case A:return Object(m.a)({},e,{messages:[]});default:return e}},maraude:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_MARAUDES":return Object(m.a)({},e,{maraudes:Object(pe.a)(n)});default:return e}}}),Oe=Object(oe.d)(ge,Object(oe.a)(ue.a,de.logger)),je=a(28),ye=(a(149),a(79)),Ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=Object(g.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.fetchConfigs();case 2:a.setState(Object(m.a)({},a.props.config));case 3:case"end":return e.stop()}},e)})),a.handleChange=function(e){a.setState(Object(Y.a)({},e.target.name,e.target.value))},a.state={cgu:"",charte:"",legalMention:"",videoPath:"",email:"",videoGuidelines:""},a.save=a.save.bind(Object(G.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"save",value:function(){this.growl.show({severity:"info",summary:"Felicitation",detail:"Donn\xe9es Mise \xe0 jour"})}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{store:Oe},r.a.createElement("div",{className:"container-configs"},r.a.createElement("div",{className:"row top-page"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"space-text"},"Condition g\xe9n\xe9ral d'utilisation"),r.a.createElement(je.InputTextarea,{className:"space-area",name:"cgu",rows:10,cols:60,value:this.state.cgu,onChange:this.handleChange})),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"space-text"},"Mention legal"),r.a.createElement(je.InputTextarea,{className:"space-area",name:"legalMention",rows:10,cols:60,value:this.state.legalMention,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"space-text"},"Charte"),r.a.createElement(je.InputTextarea,{className:"space-area",name:"charte",rows:10,cols:60,value:this.state.charte,onChange:this.handleChange})),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"space-text"},"Email Admin"),r.a.createElement(je.InputTextarea,{className:"space-area",name:"email",rows:10,cols:60,value:this.state.email,onChange:this.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"space-text"},"Guideline"),r.a.createElement(je.InputTextarea,{className:"space-area",name:"videoGuidelines",rows:1,cols:60,value:this.state.videoGuidelines,onChange:this.handleChange})),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"space-text"},"Lien video Presentation"),r.a.createElement(je.InputTextarea,{className:"space-area",name:"videoPath",rows:1,cols:60,value:this.state.videoPath,onChange:this.handleChange}))),r.a.createElement(ye.Growl,{ref:function(t){return e.growl=t}}),r.a.createElement(V.Button,{className:"space-button",label:"Mettre \xe0 jour",icon:"pi pi-upload",iconPos:"right",onClick:function(t){t.preventDefault(),e.props.updateConfig(e.state),e.save()}})))}}]),t}(n.Component),Ne={fetchConfigs:function(){return function(){var e=Object(g.a)(b.a.mark(function e(t,a){var n,r,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){},n=function(e){t({type:"FETCH_CONFIGS",payload:e.data.configs})},e.prev=2,e.next=5,j.a.get("/api/v1/configs");case 5:s=e.sent,n(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r(e.t0);case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}()},updateConfig:function(e){return function(){var t=Object(g.a)(b.a.mark(function t(a,n){var r,s,c;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(e){console.log(e)},r=function(e){console.log("SUCCESS"),a({type:"UPDATE_CONFIG",payload:e.data})},t.prev=2,t.next=5,j.a.put("/api/v1/configs",Object(m.a)({},e));case 5:c=t.sent,r(c),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),s(t.t0);case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e,a){return t.apply(this,arguments)}}()}},we=Object(v.b)(function(e){return{config:e.config.currentConfig}},Ne)(Ce),xe=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(we,null))}}]),t}(n.Component),Ae=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"content-section introduction"},r.a.createElement("div",{className:"feature-intro"},r.a.createElement("h1",null,"Authentification"),r.a.createElement("p",null,"De fa\xe7on \xe0 pouvoir ex\xe9cuter des op\xe9rations d'\xe9criture, vous devez d'abord \xeatre authentifi\xe9 et obtenir une cl\xe9 d'API dans les param\xe8tres de votre profil. Cette cl\xe9 doit \xeatre fournie \xe0 chaque appel dans l'ent\xeate HTTP X-API-KEY.."))),r.a.createElement("div",{className:"content-section implementation"},r.a.createElement(q.TabView,null,r.a.createElement(q.TabPanel,{header:"USERS"},r.a.createElement("div",null,r.a.createElement(X.Fieldset,{legend:"Ajouter un utilisateur"},r.a.createElement("p",null,r.a.createElement(V.Button,{size:"sm",label:"POST",className:"p-button-raised p-button-rounded"}),"  http://localhost:3000/admin/users  "),r.a.createElement("p",null,"Cr\xe9ez un utilisateur. Vous devez au minimum sp\xe9cifier les propri\xe9t\xe9s requises pour l\u2019utilisateur."),r.a.createElement("p",null," Nom, Prenom, Email, Mot de passe et Verification du mot de passe  ")),r.a.createElement(X.Fieldset,{legend:"Afficher tous les utilisateurs"},r.a.createElement("p",null,r.a.createElement(V.Button,{label:"GET",className:"p-button-success p-button-rounded"})," http://localhost:3000/admin/users "),r.a.createElement("p",null,"Vous pouvez lister les utilisateurs par date d'insertion")),r.a.createElement(X.Fieldset,{legend:"Modifier un utilisateur"},r.a.createElement("p",null,r.a.createElement(V.Button,{label:"PUT",className:"p-button-warning p-button-rounded"})," http://localhost:3000/admin/users/:id/  "),r.a.createElement("p",null,"Nous ne proposons pas de bac \xe0 sable pour recuperer les donn\xe9es, faire des tests avant de les ex\xe9cuter."),r.a.createElement("p",null," Mot de passe et Verification du mot de passe a retaper afin de valider les modifications.")),r.a.createElement(X.Fieldset,{legend:"Supprimer un utilisateur"},r.a.createElement("p",null,r.a.createElement(V.Button,{label:"PUT",className:"p-button-danger p-button-rounded"}),"   http://localhost:3000/admin/users/:id/  "),r.a.createElement("p",null,"Les suppressions de donn\xe9es via l'API sont d\xe9finitives (pour l'instant). Soyez conscient de ces responsabilit\xe9s avant d'utiliser vos super pouvoirs. ")),r.a.createElement(X.Fieldset,{legend:" Statut du retour, liste des codes"},r.a.createElement("p",null,"Chaque appel \xe0 l'API donne lieu \xe0 une r\xe9ponse, retournant un code sp\xe9cifique en fonction du r\xe9sultat obtenu. L'analyse de ce code vous permet de vous assurer que la requ\xeate a \xe9t\xe9 trait\xe9e avec succ\xe8s. Tous les codes >= 400 indiquent que la requ\xeate n'a pas \xe9t\xe9 trait\xe9e avec succ\xe8s par nos serveurs."),r.a.createElement("p",null,"200: OK"),r.a.createElement("p",null,"202: L'analyse est en cours de traitement"),r.a.createElement("p",null,"204: Aucune donn\xe9e disponible ou ajout\xe9e (la requ\xeate est bien form\xe9e, mais aucune donn\xe9e ne correspond)"),r.a.createElement("p",null,"206: La requ\xeate est bien trait\xe9 mais le r\xe9sultat n'est pas complet : L'analyse n'est pas compl\xe8te (certaines bonnes pratiques sont manquantes, par exemple) ou tous les ajouts n'ont pas pu \xeatre effectu\xe9s (pour les \xe9v\xe9nements par exemple)"),r.a.createElement("p",null,"400: Param\xe8tre manquant, ou valeur incorrecte"),r.a.createElement("p",null,"401: Authentification n\xe9cessaire (jeton non pr\xe9cis\xe9 ou invalide)"),r.a.createElement("p",null,"403: Action non autoris\xe9e (cr\xe9dits \xe9puis\xe9s, URL non autoris\xe9e, etc)"),r.a.createElement("p",null,"404: Page inaccessible (URL inconnue / impossible d'acc\xe9der \xe0 l'adresse)"),r.a.createElement("p",null,"406: Le JSON indiqu\xe9 en donn\xe9es POST n'est pas valide"),r.a.createElement("p",null,"408: D\xe9passement du temps maximal autoris\xe9 pour l'analyse"),r.a.createElement("p",null,"417: La derni\xe8re analyse de la surveillance automatique ne s\\'est pas d\xe9roul\xe9e correctement"),r.a.createElement("p",null,"500: Erreur inconnue, contactez-nous"),r.a.createElement("p",null,"503: L'API est momentan\xe9ment indisponible, r\xe9essayez dans quelques minutes ")))))))}}]),t}(n.Component);a(152);var Se=a(57),ke=a.n(Se),Re=(a(154),{}),Ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).actionTemplate=function(e){return r.a.createElement("div",null,r.a.createElement(V.Button,{type:"button",icon:"pi pi-search",className:"p-button-warning",style:{marginRight:".5em"}}),r.a.createElement(V.Button,{type:"button",icon:"pi pi-times",className:"p-button-danger",onClick:function(t){t.preventDefault(),t.stopPropagation(),a.props.deleteMaraude(e.id)}}))},a.state={maraude:Re,onCreate:!0,globalFilter:null},a.save=a.save.bind(Object(G.a)(a)),a.delete=a.delete.bind(Object(G.a)(a)),a.onMaraudeSelect=a.onMaraudeSelect.bind(Object(G.a)(a)),a.addNew=a.addNew.bind(Object(G.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMaraudes()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.maraudes.filter(function(t){return t.id===e.state.maraude.id})[0];if(t){var a=t.photos,n=this.state.maraude.photos;a&&n&&n.length!==a.length&&this.setState(Object(m.a)({},this.state,{maraude:Object(m.a)({},t)}))}}},{key:"save",value:function(){this.state.onCreate?this.props.createMaraude(this.state.maraude):this.props.updateMaraude(this.state.maraude,this.state.maraude.id),this.resetState()}},{key:"resetState",value:function(){this.setState({onCreate:!0,maraude:Re,displayDialog:!1})}},{key:"delete",value:function(){var e=this.findSelectedMaraudeIndex();this.setState({maraudes:this.props.maraudes.filter(function(t,a){return a!==e}),maraude:null,displayDialog:!1}),this.props.deleteMaraude(this.state.maraude.id)}},{key:"findSelectedMaraudeIndex",value:function(){return this.props.maraudes.indexOf(this.state.selectedMaraude)}},{key:"updateProperty",value:function(e,t){this.setState(Object(m.a)({},this.state,{maraude:Object(m.a)({},this.state.maraude,Object(Y.a)({},e,t))}))}},{key:"onMaraudeSelect",value:function(e){this.newMaraude=!1,this.setState({displayDialog:!0,maraude:Object(m.a)({},e.data),onCreate:!1})}},{key:"addNew",value:function(){this.newMaraude=!0,this.setState({maraude:Object(m.a)({},Re),displayDialog:!0})}},{key:"startAtTemplate",value:function(e){return r.a.createElement("p",null,ke()(e.startAt).format("L"))}},{key:"endAtTemplate",value:function(e){return r.a.createElement("p",null,ke()(e.endAt).format("L"))}},{key:"render",value:function(){var e=this,t=this.state.onCreate?"Ajouter":"Modifier",a=r.a.createElement("div",{className:"p-clearfix",style:{lineHeight:"2.97em",fontSize:"1.2em"}},"Liste des maraudes",r.a.createElement("div",{className:"row subtitle-maraude"},r.a.createElement("div",{className:"col-3 search-bar"},r.a.createElement("i",{className:"pi pi-search search-bar"}),r.a.createElement(K.InputText,{type:"search",onInput:function(t){return e.setState({globalFilter:t.target.value})},placeholder:"Recherche",size:"20"})),r.a.createElement("div",{className:"col-9 add-maraude"},r.a.createElement(V.Button,{style:{float:"left"},label:"Ajouter une maraude",icon:"pi pi-plus",onClick:this.addNew,className:"p-button-warning"})))),n=r.a.createElement("div",{className:"ui-dialog-buttonpane p-clearfix"},!this.state.onCreate&&r.a.createElement(V.Button,{label:"Supprimer",icon:"pi pi-times",className:"p-button-warning",onClick:this.delete}),r.a.createElement(V.Button,{label:t,icon:"pi pi-check",className:"p-button-warning",onClick:this.save}));return r.a.createElement("div",{id:"containerListMaraudes"},r.a.createElement("div",{className:"content-section header"},r.a.createElement("div",{className:"feature-intro"},r.a.createElement("h3",null,"G\xe9rer les maraudes"))),r.a.createElement("div",{className:"content-section implementation"},r.a.createElement(W.DataTable,{value:this.props.maraudes,paginator:!0,rows:15,header:a,selectionMode:"single",selection:this.state.maraude,onSelectionChange:function(t){return e.setState({maraude:t.value})},onRowSelect:this.onMaraudeSelect,className:"datable-td",globalFilter:this.state.globalFilter},r.a.createElement(_.Column,{field:"id",header:"ID",className:"width-id",sortable:!0}),r.a.createElement(_.Column,{field:"title",header:"Titre de la maraude",sortable:!0}),r.a.createElement(_.Column,{field:"description",header:"Description",sortable:!0}),r.a.createElement(_.Column,{field:"startAt",header:"Date de d\xe9but",sortable:!0,body:this.startAtTemplate}),r.a.createElement(_.Column,{field:"endAt",header:"Date de fin",sortable:!0,body:this.endAtTemplate}),r.a.createElement(_.Column,{field:"city",header:"Ville",sortable:!0}),r.a.createElement(_.Column,{field:"longitude",header:"Longitude",sortable:!0}),r.a.createElement(_.Column,{field:"latitude",header:"Latitude",sortable:!0}),r.a.createElement(_.Column,{field:"action",header:"Action",sortable:!0,body:this.actionTemplate,style:{textAlign:"center",width:"8em"}})),r.a.createElement($.Dialog,{visible:this.state.displayDialog,header:"Modifier / Supprimer la maraude",closeOnEscape:!0,footer:n,onHide:function(){e.setState(Object(m.a)({},e.state,{displayDialog:!1,onCreate:!0,maraude:{}})),function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){var t=document.getElementById(e);t&&(t.value="")})}(["title","description","city","startAt","endAt","longitude","latitude"])}},this.state.maraude&&r.a.createElement("div",{className:"row list-maraudes"},r.a.createElement("div",{className:"col-3 item-maraude",style:{padding:".75em"}},r.a.createElement("label",{htmlFor:"Title"},"Titre")),r.a.createElement(K.InputText,{id:"title",className:"col-8",onChange:function(t){e.updateProperty("title",t.target.value)},value:this.state.maraude.title}),r.a.createElement("div",{className:"col-3 item-maraude",style:{padding:".75em"}},r.a.createElement("label",{htmlFor:"Description"},"Description")),r.a.createElement(je.InputTextarea,{id:"description",className:"col-8",onChange:function(t){e.updateProperty("description",t.target.value)},value:this.state.maraude.description}),r.a.createElement("div",{className:"col-3 item-maraude",style:{padding:".75em"}},r.a.createElement("label",{htmlFor:"startAt"},"D\xe9but de la maraude")),r.a.createElement(K.InputText,{id:"startAt",className:"col-8",onChange:function(t){e.updateProperty("startAt",t.target.value)},type:"date",value:this.state.maraude.startAt}),r.a.createElement("div",{className:"col-3 item-maraude",style:{padding:".75em"}},r.a.createElement("label",{htmlFor:"endAt"},"Fin de la maraude")),r.a.createElement(K.InputText,{id:"endAt",className:"col-8",onChange:function(t){e.updateProperty("endAt",t.target.value)},type:"date",value:this.state.maraude.endAt}),r.a.createElement("div",{className:"col-3 item-maraude",style:{padding:".75em"}},r.a.createElement("label",{htmlFor:"City"},"Ville")),r.a.createElement(K.InputText,{id:"city",className:"col-8",onChange:function(t){e.updateProperty("city",t.target.value)},value:this.state.maraude.city}),r.a.createElement("div",{className:"col-3 item-maraude",style:{padding:".75em"}},r.a.createElement("label",{htmlFor:"Longitude"},"Longitude")),r.a.createElement(K.InputText,{id:"longitude",className:"col-8",onChange:function(t){e.updateProperty("longitude",t.target.value)},value:this.state.maraude.longitude}),r.a.createElement("div",{className:"col-3 item-maraude",style:{padding:".75em"}},r.a.createElement("label",{htmlFor:"Latitude"},"Latitude")),r.a.createElement(K.InputText,{id:"latitude",className:"col-8",onChange:function(t){e.updateProperty("latitude",t.target.value)},value:this.state.maraude.latitude}),r.a.createElement("div",{className:"col-12"},this.state.maraude.photos&&r.a.createElement("div",{className:"item-photos-maraudes"},r.a.createElement("div",{className:"col-3",style:{padding:".75em"}},r.a.createElement("label",{htmlFor:"Photos"},"Photos")),this.state.maraude.photos.map(function(t,a){return r.a.createElement("div",{className:"maraude-photo",key:"photo-".concat(a)},r.a.createElement("div",{className:"",onClick:function(){e.props.deletePicture(t.id)}},r.a.createElement("button",{className:"destroyer"},"\xd7")),r.a.createElement("img",{alt:"".concat(e.state.maraude.title,"-").concat(a),src:t.url,width:"100px"}))})))))))}}]),t}(n.Component),Ie={fetchMaraudes:L,createMaraude:function(e){return function(){var t=Object(g.a)(b.a.mark(function t(a,n){var r,s,c;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(e){return console.log("ERROR WHILE CREATE MARAUDE",e),a(k("L'ajout de la maraude a \xe9chou\xe9 !")),e},r=function(e){return a({type:"CREATE_MARAUDE",payload:e.data.maraude}),a(L()),a(S("Maraude ajout\xe9e !")),e},t.prev=2,e.userId=n().authentification.user.id,t.next=6,j.a.post("/api/v1/maraudes",e,{headers:{Authorization:"bearer ".concat(n().authentification.user.token)}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),s(t.t0);case 13:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e,a){return t.apply(this,arguments)}}()},updateMaraude:function(e,t){return function(){var a=Object(g.a)(b.a.mark(function a(n,r){var s,c,i;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=function(e){return console.log("ERROR WHILE update MARAUDES",e),n(k("Modification \xe9chou\xe9e !")),e},s=function(e){return console.log("success WHILE update MARAUDES",e),n(L()),n(S("Modification r\xe9ussie !")),e},a.prev=2,a.next=5,j.a.put("/api/v1/maraudes/".concat(t),e,{headers:{Authorization:"bearer ".concat(r().authentification.user.token)}});case 5:i=a.sent,s(i),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),c(a.t0);case 12:case"end":return a.stop()}},a,null,[[2,9]])}));return function(e,t){return a.apply(this,arguments)}}()},deleteMaraude:function(e){return function(){var t=Object(g.a)(b.a.mark(function t(a,n){var r,s,c;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(e){return console.log("ERROR WHILE delete MARAUDE",e),a(k("Suppression \xe9chou\xe9e !")),e},r=function(e){return console.log("success WHILE delete MARAUDE",e),a(L()),a(S("Suppression r\xe9ussie !")),e},t.prev=2,t.next=5,j.a.delete("/api/v1/maraudes/".concat(e),{headers:{Authorization:"bearer ".concat(n().authentification.user.token)}});case 5:c=t.sent,r(c),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),s(t.t0);case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e,a){return t.apply(this,arguments)}}()},deletePicture:function(e){return function(){var t=Object(g.a)(b.a.mark(function t(a,n){var r,s,c;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(e){return console.log("ERROR WHILE delete PICTURE",e),a(k("Suppression \xe9chou\xe9e !")),e},r=function(e){return console.log("success WHILE delete PICTURE",e),a(L()),a(S("Suppression r\xe9ussie !")),e},t.prev=2,t.next=5,j.a.delete("/api/v1/pictures/".concat(e),{headers:{Authorization:"bearer ".concat(n().authentification.user.token)}});case 5:c=t.sent,r(c),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),s(t.t0);case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e,a){return t.apply(this,arguments)}}()}},Me=Object(v.b)(function(e){return{maraudes:e.maraude.maraudes}},Ie)(Ue),Te=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Me,null))}}]),t}(n.Component),Pe=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(h.a,{exact:!0,path:"/admin",component:B}),r.a.createElement(h.a,{exact:!0,path:"/admin/maraudes",component:Te}),r.a.createElement(h.a,{exact:!0,path:"/admin/users",component:le}),r.a.createElement(h.a,{exact:!0,path:"/admin/maraudes",component:Te}),r.a.createElement(h.a,{exact:!0,path:"/admin/configs",component:xe}),r.a.createElement(h.a,{exact:!0,path:"/admin/docapi",component:Ae}))}}]),t}(n.Component),De=Object(f.a)(Object(v.b)(function(e){return Object(m.a)({},e)},{})(Pe)),Le=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"layout-wrapper"},r.a.createElement("div",{className:"layout-topbar"}),r.a.createElement("div",{className:"layout-sidebar"},r.a.createElement(T,null)),r.a.createElement("div",{className:"layout-content"},r.a.createElement(De,null),r.a.createElement("div",{className:"layout-footer"}))))}}]),t}(n.Component),Fe={logout:R},He=Object(v.b)(function(e){return Object(m.a)({},e)},Fe)(Le),ze=a(173),Be=a(174),Ge=a(175),We=a(179),qe=a(176),_e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).loginUser=function(){a.props.login(a.state.email,a.state.password)},a.state={email:"",password:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.authentification.user;return t.isConnected&&t.isAdmin?r.a.createElement(We.a,{to:"/admin"}):r.a.createElement(ze.a,{className:"flex-column flex-center flex-center-items full-height-screen"},r.a.createElement(Be.a,null,r.a.createElement(Ge.a,{xs:"12",md:"6"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon"},r.a.createElement("i",{className:"pi pi-user"})),r.a.createElement(K.InputText,{value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Username"}))),r.a.createElement(Ge.a,{xs:"12",md:"6"},r.a.createElement("div",{className:"p-inputgroup"},r.a.createElement("span",{className:"p-inputgroup-addon"},r.a.createElement("i",{className:"pi pi-lock"})),r.a.createElement(K.InputText,{type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Password"})))),r.a.createElement(Be.a,{className:"marged-top"},r.a.createElement(Ge.a,{xs:"12"},r.a.createElement(V.Button,{onClick:this.loginUser,label:"Se connecter",icon:"pi pi-angle-right"}))),r.a.createElement(qe.a,{to:"/admin"},"Click to go to admin"))}}]),t}(n.Component),Ve={login:function(e,t){return function(){var a=Object(g.a)(b.a.mark(function a(n){var r,s,c;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=function(e){return n({type:N,error:e}),n(k("Connexion \xe9chou\xe9 !")),e},r=function(e){return j.a.defaults.headers.common.Authorization="bearer ".concat(e.data.token),n({type:y,payload:e.data}),n(S("Connexion r\xe9ussi !")),e},a.prev=2,a.next=5,j.a.post("/api/v1/auth/signin",{email:e,password:t});case 5:return c=a.sent,a.abrupt("return",r(c));case 9:return a.prev=9,a.t0=a.catch(2),a.abrupt("return",s(a.t0));case 12:case"end":return a.stop()}},a,null,[[2,9]])}));return function(e){return a.apply(this,arguments)}}()}},Xe=Object(v.b)(function(e){return Object(m.a)({},e)},Ve)(_e),Je=a(83),Ke=function(e){var t=e.component,a=e.isAdmin,n=void 0!==a&&a,s=Object(Je.a)(e,["component","isAdmin"]);return r.a.createElement(h.a,Object.assign({},s,{render:function(e){return!0===n?r.a.createElement(t,e):r.a.createElement(We.a,{to:"/"})}}))},Ye=a(177),$e=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;this.props.messages.length>=1&&setTimeout(function(){a.props.resetMessage()},3e3)}},{key:"render",value:function(){return r.a.createElement("div",{style:{position:"fixed",zIndex:999999,width:"100vw"}},this.props.messages.map(function(e,t){return r.a.createElement(Ye.a,{key:"message-".concat(t),color:e.color},e.message)}))}}]),t}(n.Component),Qe={resetMessage:function(){return{type:A,payload:null}}},Ze=Object(v.b)(function(e){return{messages:e.app.messages}},Qe)($e),et=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.authentification.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,null),r.a.createElement(p.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:Xe}),r.a.createElement(Ke,{isAdmin:e.isAdmin,path:"/admin",component:He})))}}]),t}(n.Component),tt=Object(f.a)(Object(v.b)(function(e){return Object(m.a)({},e)},{})(et)),at=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(tt,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nt=a(178),rt=a(81),st=a(47),ct=a(82),it={key:"XxXxX-XxXxX-XxXxX",storage:a.n(ct).a,whitelist:["authentification"]},lt=Object(st.a)(it,ge),ot=Object(oe.d)(lt,Object(oe.a)(ue.a,me.a)),ut=Object(st.b)(ot);a(162),a(163),a(164),a(165),a(166),a(167),a(168);c.a.render(r.a.createElement(v.a,{store:ot},r.a.createElement(rt.a,{loading:null,persistor:ut},r.a.createElement(nt.a,null,r.a.createElement(at,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){},85:function(e,t,a){e.exports=a(169)},90:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.5b956482.chunk.js.map